{"ast":null,"code":"var _jsxFileName = \"/home/sinkiline/Programming/My Web-sites/My-Brovskoe/src/components/NavTop/ModalAuth/Modalauth.js\";\nimport React, { Component } from 'react';\nimport { Alert, Button, Form, Modal } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport './styles/Modalauth.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Modalauth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loginOrlogout = () => {\n      if (this.state.formType === \"login\") {\n        const loginHiddenSubmit = e => {\n          e.preventDefault();\n          const username = e.target.formBasicUsername.value;\n          const email = e.target.formBasicEmail.value;\n          const password = e.target.formBasicPassword.value;\n          const createUsers = {\n            username: username,\n            email: email,\n            password: password\n          };\n          this.props.storeUsers.map(item => {\n            if (email !== \"\" && password !== \"\" && email === item.email && password === item.password) {\n              localStorage.setItem(\"currentUser\", JSON.stringify(createUsers));\n              this.props.onCurUser(JSON.parse(localStorage.getItem(\"currentUser\")).username);\n              this.props.onHide();\n            } else {\n              this.setState({\n                alertTitle: 'Не верно введена почта или пароль',\n                alertVariant: 'danger',\n                alertShow: 'mb-3 view-alert'\n              });\n            }\n          });\n        };\n\n        return /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: loginHiddenSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: this.state.alertShow,\n            controlId: \"formBasicAlert\",\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: this.state.alertVariant,\n              children: this.state.alertTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicUsername\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"name\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u043E\\u0447\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0447\\u0442\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicCreateAccountLink\",\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"link\",\n                onClick: () => {\n                  this.setState({\n                    formType: \"register\",\n                    alertTitle: '',\n                    alertVariant: '',\n                    alertShow: 'hidden-alert'\n                  });\n                },\n                children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0447\\u0442\\u043E\\u0431\\u044B \\u0441\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            onClick: this.hiddenClick,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this);\n      } else if (this.state.formType === \"register\") {\n        const registerHiddenSubmit = e => {\n          e.preventDefault();\n          const username = e.target.formBasicUsername.value;\n          const email = e.target.formBasicEmail.value;\n          const password = e.target.formBasicPassword.value;\n          const confirmPassword = e.target.formBasicConfirmPassword.value;\n          this.props.storeUsers.map(item => {\n            console.log(email + ' ' + item.email);\n            console.log(username + ' ' + item.username);\n\n            if (email !== \"\" && password !== \"\" && confirmPassword !== \"\" && password === confirmPassword && username !== \"\") {\n              if (email === item.email && username === item.username) {\n                console.log(\"it`s account created!\");\n                this.setState({\n                  alertTitle: \"Такой пользователь уже есть\",\n                  alertVariant: \"warning\",\n                  alertShow: 'mb-3 view-alert'\n                });\n              } else {\n                const createUsers = {\n                  username: username,\n                  email: email,\n                  password: password\n                };\n                console.log(\"create users\");\n                this.props.onAddUsers(createUsers);\n                this.props.onAddCurrentUser(createUsers);\n                this.props.onHide();\n              }\n            } else {\n              console.log(\"no create users\");\n              this.setState({\n                alertTitle: \"Не все данные введены\",\n                alertVariant: \"danger\",\n                alertShow: 'mb-3 view-alert'\n              });\n            }\n          });\n        };\n\n        return /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: registerHiddenSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: this.state.alertShow,\n            controlId: \"formBasicAlert\",\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: this.state.alertVariant,\n              children: this.state.alertTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicUsername\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"name\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u043E\\u0447\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0447\\u0442\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicConfirmPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicCreateAccountLink\",\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"link\",\n                onClick: () => {\n                  this.setState({\n                    formType: \"login\",\n                    alertTitle: '',\n                    alertVariant: '',\n                    alertShow: 'hidden-alert'\n                  });\n                },\n                children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0435\\u0441\\u043B\\u0438 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            onClick: this.hiddenClick,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this);\n      }\n    };\n\n    this.state = {\n      formType: \"login\",\n      alertTitle: '',\n      alertVariant: '',\n      alertShow: 'hidden-alert'\n    };\n  }\n\n  render() {\n    console.log(this.state.alertShow);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Modal, { ...this.props,\n        size: \"md\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            id: \"contained-modal-title-vcenter\",\n            children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: this.loginOrlogout()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default connect(state => ({\n  storeUsers: state.users,\n  storeCurrentUser: state.currentUser\n}), dispatch => ({\n  onAddUsers: addUsers => {\n    dispatch({\n      type: 'ADD_USERS',\n      payload: addUsers\n    });\n  },\n  onAddCurrentUser: addCurrentUser => {\n    dispatch({\n      type: 'CURRENT_USER',\n      payload: addCurrentUser\n    });\n  }\n}))(Modalauth);","map":{"version":3,"sources":["/home/sinkiline/Programming/My Web-sites/My-Brovskoe/src/components/NavTop/ModalAuth/Modalauth.js"],"names":["React","Component","Alert","Button","Form","Modal","connect","Modalauth","constructor","props","loginOrlogout","state","formType","loginHiddenSubmit","e","preventDefault","username","target","formBasicUsername","value","email","formBasicEmail","password","formBasicPassword","createUsers","storeUsers","map","item","localStorage","setItem","JSON","stringify","onCurUser","parse","getItem","onHide","setState","alertTitle","alertVariant","alertShow","hiddenClick","registerHiddenSubmit","confirmPassword","formBasicConfirmPassword","console","log","onAddUsers","onAddCurrentUser","render","users","storeCurrentUser","currentUser","dispatch","addUsers","type","payload","addCurrentUser"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Alert, Button, Form, Modal} from 'react-bootstrap';\nimport {connect} from 'react-redux';\nimport './styles/Modalauth.scss';\n\nclass Modalauth extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formType: \"login\",\n      alertTitle: '',\n      alertVariant: '',\n      alertShow: 'hidden-alert',\n    }\n  }\n\n  loginOrlogout = () => {\n    if (this.state.formType === \"login\") {\n      const loginHiddenSubmit = (e) => {\n        e.preventDefault();\n        const username = e.target.formBasicUsername.value;\n        const email = e.target.formBasicEmail.value;\n        const password = e.target.formBasicPassword.value;\n        const createUsers = {\n          username: username,\n          email: email,\n          password: password,\n        }\n\n        this.props.storeUsers.map((item) => {\n          if (email !== \"\" && password !== \"\" && email === item.email && password === item.password) {\n            localStorage.setItem(\"currentUser\", JSON.stringify(createUsers));\n            this.props.onCurUser(JSON.parse(localStorage.getItem(\"currentUser\")).username);\n            this.props.onHide();\n          } else {\n            this.setState({\n              alertTitle: 'Не верно введена почта или пароль',\n              alertVariant: 'danger',\n              alertShow: 'mb-3 view-alert',\n            })\n          }\n        })\n      }\n\n      return (\n        <Form onSubmit={loginHiddenSubmit}>\n          <Form.Group className={this.state.alertShow} controlId=\"formBasicAlert\">\n            <Alert variant={this.state.alertVariant}>{this.state.alertTitle}</Alert>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicUsername\">\n            <Form.Label>Имя пользователя</Form.Label>\n            <Form.Control type=\"name\" placeholder=\"Введите имя пользователя\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Почта</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"Введите почту\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Пароль</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Введите пароль\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCreateAccountLink\">\n            <Form.Label>\n              <Button variant=\"link\" onClick={() => {\n                this.setState({\n                  formType: \"register\",\n                  alertTitle: '',\n                  alertVariant: '',\n                  alertShow: 'hidden-alert',\n                })\n              }}>Нажмите чтобы создать аккаунт</Button>\n            </Form.Label>\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\" onClick={this.hiddenClick}>\n            Сохранить\n          </Button>\n        </Form>\n      );\n    } else if (this.state.formType === \"register\") {\n      const registerHiddenSubmit = (e) => {\n        e.preventDefault();\n        const username = e.target.formBasicUsername.value;\n        const email = e.target.formBasicEmail.value;\n        const password = e.target.formBasicPassword.value;\n        const confirmPassword = e.target.formBasicConfirmPassword.value;\n\n        this.props.storeUsers.map((item) => {\n\n\n          console.log(email + ' ' + item.email);\n          console.log(username + ' ' + item.username);\n          if (email !== \"\" && password !== \"\" && confirmPassword !== \"\" && password === confirmPassword && username !== \"\") {\n            if (email === item.email && username === item.username) {\n              console.log(\"it`s account created!\")\n              this.setState({\n                alertTitle: \"Такой пользователь уже есть\",\n                alertVariant: \"warning\",\n                alertShow: 'mb-3 view-alert',\n              })\n            } else {\n              const createUsers = {\n                username: username,\n                email: email,\n                password: password,\n              }\n              console.log(\"create users\")\n              this.props.onAddUsers(createUsers);\n              this.props.onAddCurrentUser(createUsers);\n              this.props.onHide();\n            }\n          } else {\n            console.log(\"no create users\")\n            this.setState({\n              alertTitle: \"Не все данные введены\",\n              alertVariant: \"danger\",\n              alertShow: 'mb-3 view-alert',\n            })\n          }\n\n        });\n      }\n\n      return (\n        <Form onSubmit={registerHiddenSubmit}>\n          <Form.Group className={this.state.alertShow} controlId=\"formBasicAlert\">\n            <Alert variant={this.state.alertVariant}>{this.state.alertTitle}</Alert>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicUsername\">\n            <Form.Label>Имя пользователя</Form.Label>\n            <Form.Control type=\"name\" placeholder=\"Введите имя пользователя\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Почта</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"Введите почту\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Пароль</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Введите пароль\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicConfirmPassword\">\n            <Form.Label>Подтвердите пароль</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Подтвердите пароль\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCreateAccountLink\">\n            <Form.Label>\n              <Button variant=\"link\" onClick={() => {\n                this.setState({\n                  formType: \"login\",\n                  alertTitle: '',\n                  alertVariant: '',\n                  alertShow: 'hidden-alert',\n                })\n              }}>Нажмите если есть аккаунт</Button>\n            </Form.Label>\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\" onClick={this.hiddenClick}>\n            Сохранить\n          </Button>\n        </Form>\n      );\n    }\n  }\n\n  render() {\n    console.log(this.state.alertShow);\n    return (\n      <>\n        <Modal\n          {...this.props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n        >\n          <Modal.Header>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              Авторизация\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.loginOrlogout()}\n          </Modal.Body>\n        </Modal>\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state) => ({\n    storeUsers: state.users,\n    storeCurrentUser: state.currentUser,\n  }),\n  (dispatch) => ({\n    onAddUsers: (addUsers) => {\n      dispatch({type: 'ADD_USERS', payload: addUsers});\n    },\n    onAddCurrentUser: (addCurrentUser) => {\n      dispatch({type: 'CURRENT_USER', payload: addCurrentUser});\n    },\n  })\n)(Modalauth);"]},"metadata":{},"sourceType":"module"}