{"ast":null,"code":"var _jsxFileName = \"/home/sinkiline/Programming/My Web-sites/My-Brovskoe/src/components/NavTop/ModalAuth/Modalauth.js\";\nimport React, { Component } from 'react';\nimport { Alert, Button, Form, Modal } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport './styles/Modalauth.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Modalauth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logoutClearAlert = () => {\n      this.setState({});\n    };\n\n    this.loginOrlogout = () => {\n      if (this.state.formType === \"login\") {\n        const loginHiddenSubmit = e => {\n          e.preventDefault();\n          const username = e.target.formBasicUsername.value;\n          const email = e.target.formBasicEmail.value;\n          const password = e.target.formBasicPassword.value;\n          const createUsers = {\n            username: username,\n            email: email,\n            password: password\n          };\n          this.props.storeUsers.map(item => {\n            if (email !== \"\" && password !== \"\" && email === item.email && password === item.password) {\n              this.props.onAddCurrentUser(createUsers);\n              this.props.onHide();\n            } else {\n              this.setState({\n                alertTitle: 'Не верно введена почта или пароль',\n                alertVariant: 'danger',\n                alertShow: 'mb-3 view-alert'\n              });\n            }\n          });\n        };\n\n        return /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: loginHiddenSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: this.state.alertShow,\n            controlId: \"formBasicAlert\",\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: this.state.alertVariant,\n              children: this.state.alertTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicUsername\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"name\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u043E\\u0447\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0447\\u0442\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicCreateAccountLink\",\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"link\",\n                onClick: () => {\n                  this.setState({\n                    formType: \"register\",\n                    alertTitle: '',\n                    alertVariant: '',\n                    alertShow: 'hidden-alert'\n                  });\n                },\n                children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0447\\u0442\\u043E\\u0431\\u044B \\u0441\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            onClick: this.hiddenClick,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this);\n      } else if (this.state.formType === \"register\") {\n        const registerHiddenSubmit = e => {\n          e.preventDefault();\n          const username = e.target.formBasicUsername.value;\n          const email = e.target.formBasicEmail.value;\n          const password = e.target.formBasicPassword.value;\n          const confirmPassword = e.target.formBasicConfirmPassword.value;\n          this.props.storeUsers.map(item => {\n            if (email !== \"\" && password !== \"\" && confirmPassword !== \"\" && password === confirmPassword && username !== \"\" && email !== item.email) {\n              const createUsers = {\n                username: username,\n                email: email,\n                password: password\n              };\n              this.props.onAddUsers(createUsers);\n              this.props.onAddCurrentUser(createUsers);\n              this.props.onHide();\n            } else {\n              this.setState({\n                alertTitle: \"Не все данные введены\",\n                alertVariant: \"danger\",\n                alertShow: 'mb-3 view-alert'\n              });\n            }\n          });\n        };\n\n        return /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: registerHiddenSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: this.state.alertShow,\n            controlId: \"formBasicAlert\",\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: this.state.alertVariant,\n              children: this.state.alertTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicUsername\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"name\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u043E\\u0447\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0447\\u0442\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicConfirmPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicCreateAccountLink\",\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"link\",\n                onClick: () => {\n                  this.setState({\n                    formType: \"login\",\n                    alertTitle: '',\n                    alertVariant: '',\n                    alertShow: 'hidden-alert'\n                  });\n                },\n                children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0435\\u0441\\u043B\\u0438 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            onClick: this.hiddenClick,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this);\n      }\n    };\n\n    this.state = {\n      formType: \"login\",\n      alertTitle: '',\n      alertVariant: '',\n      alertShow: 'hidden-alert'\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Modal, { ...this.props,\n        size: \"md\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            id: \"contained-modal-title-vcenter\",\n            children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: this.loginOrlogout()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default connect(state => ({\n  storeUsers: state.users,\n  storeCurrentUser: state.currentUser\n}), dispatch => ({\n  onAddUsers: addUsers => {\n    dispatch({\n      type: 'ADD_USERS',\n      payload: addUsers\n    });\n  },\n  onAddCurrentUser: addCurrentUser => {\n    dispatch({\n      type: 'CURRENT_USER',\n      payload: addCurrentUser\n    });\n  }\n}))(Modalauth);","map":{"version":3,"sources":["/home/sinkiline/Programming/My Web-sites/My-Brovskoe/src/components/NavTop/ModalAuth/Modalauth.js"],"names":["React","Component","Alert","Button","Form","Modal","connect","Modalauth","constructor","props","logoutClearAlert","setState","loginOrlogout","state","formType","loginHiddenSubmit","e","preventDefault","username","target","formBasicUsername","value","email","formBasicEmail","password","formBasicPassword","createUsers","storeUsers","map","item","onAddCurrentUser","onHide","alertTitle","alertVariant","alertShow","hiddenClick","registerHiddenSubmit","confirmPassword","formBasicConfirmPassword","onAddUsers","render","users","storeCurrentUser","currentUser","dispatch","addUsers","type","payload","addCurrentUser"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Alert, Button, Form, Modal} from 'react-bootstrap';\nimport {connect} from 'react-redux';\nimport './styles/Modalauth.scss';\n\nclass Modalauth extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formType: \"login\",\n      alertTitle: '',\n      alertVariant: '',\n      alertShow: 'hidden-alert',\n    }\n  }\n\n  logoutClearAlert = () => {\n    this.setState({\n      \n    })\n  }\n\n  loginOrlogout = () => {\n    if (this.state.formType === \"login\") {\n      const loginHiddenSubmit = (e) => {\n        e.preventDefault();\n        const username = e.target.formBasicUsername.value;\n        const email = e.target.formBasicEmail.value;\n        const password = e.target.formBasicPassword.value;\n        const createUsers = {\n          username: username,\n          email: email,\n          password: password,\n        }\n\n        this.props.storeUsers.map((item) => {\n          if (email !== \"\" && password !== \"\" && email === item.email && password === item.password) {\n            this.props.onAddCurrentUser(createUsers);\n            this.props.onHide();\n          } else {\n            this.setState({\n              alertTitle: 'Не верно введена почта или пароль',\n              alertVariant: 'danger',\n              alertShow: 'mb-3 view-alert',\n            })\n          }\n        })\n      }\n\n      return (\n        <Form onSubmit={loginHiddenSubmit}>\n          <Form.Group className={this.state.alertShow} controlId=\"formBasicAlert\">\n            <Alert variant={this.state.alertVariant}>{this.state.alertTitle}</Alert>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicUsername\">\n            <Form.Label>Имя пользователя</Form.Label>\n            <Form.Control type=\"name\" placeholder=\"Введите имя пользователя\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Почта</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"Введите почту\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Пароль</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Введите пароль\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCreateAccountLink\">\n            <Form.Label>\n              <Button variant=\"link\" onClick={() => {\n                this.setState({\n                  formType: \"register\",\n                  alertTitle: '',\n                  alertVariant: '',\n                  alertShow: 'hidden-alert',\n                })\n              }}>Нажмите чтобы создать аккаунт</Button>\n            </Form.Label>\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\" onClick={this.hiddenClick}>\n            Сохранить\n          </Button>\n        </Form>\n      );\n    } else if (this.state.formType === \"register\") {\n      const registerHiddenSubmit = (e) => {\n        e.preventDefault();\n        const username = e.target.formBasicUsername.value;\n        const email = e.target.formBasicEmail.value;\n        const password = e.target.formBasicPassword.value;\n        const confirmPassword = e.target.formBasicConfirmPassword.value;\n\n        this.props.storeUsers.map((item) => {\n          if (email !== \"\" && password !== \"\" && confirmPassword !== \"\" && password === confirmPassword && username !== \"\" && email !== item.email) {\n            const createUsers = {\n              username: username,\n              email: email,\n              password: password,\n            }\n            this.props.onAddUsers(createUsers);\n            this.props.onAddCurrentUser(createUsers);\n            this.props.onHide();\n          } else {\n            this.setState({\n              alertTitle: \"Не все данные введены\",\n              alertVariant: \"danger\",\n              alertShow: 'mb-3 view-alert',\n            })\n          }\n        })\n      }\n\n      return (\n        <Form onSubmit={registerHiddenSubmit}>\n          <Form.Group className={this.state.alertShow} controlId=\"formBasicAlert\">\n            <Alert variant={this.state.alertVariant}>{this.state.alertTitle}</Alert>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicUsername\">\n            <Form.Label>Имя пользователя</Form.Label>\n            <Form.Control type=\"name\" placeholder=\"Введите имя пользователя\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Почта</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"Введите почту\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Пароль</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Введите пароль\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicConfirmPassword\">\n            <Form.Label>Подтвердите пароль</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Подтвердите пароль\"/>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCreateAccountLink\">\n            <Form.Label>\n              <Button variant=\"link\" onClick={() => {\n                this.setState({\n                  formType: \"login\",\n                  alertTitle: '',\n                  alertVariant: '',\n                  alertShow: 'hidden-alert',\n                })\n              }}>Нажмите если есть аккаунт</Button>\n            </Form.Label>\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\" onClick={this.hiddenClick}>\n            Сохранить\n          </Button>\n        </Form>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <Modal\n          {...this.props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n        >\n          <Modal.Header>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              Авторизация\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.loginOrlogout()}\n          </Modal.Body>\n        </Modal>\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state) => ({\n    storeUsers: state.users,\n    storeCurrentUser: state.currentUser,\n  }),\n  (dispatch) => ({\n    onAddUsers: (addUsers) => {\n      dispatch({type: 'ADD_USERS', payload: addUsers});\n    },\n    onAddCurrentUser: (addCurrentUser) => {\n      dispatch({type: 'CURRENT_USER', payload: addCurrentUser});\n    },\n  })\n)(Modalauth);"]},"metadata":{},"sourceType":"module"}